{"version":3,"file":"static/js/593-legacy.4284c206.js","mappings":"wKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,OAAO,aAAa,GAAG,MAAQ,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,IAAI,QAAQ,GAAGP,EAAG,MAAM,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,SAAWP,EAAIY,SAAS,gBAAgB,QAAQ,OAAS,MAAMJ,GAAG,CAAC,KAAOR,EAAIa,QAAQC,MAAM,CAACC,MAAOf,EAAW,QAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,QAAQD,GAAKE,WAAW,YAAYnB,EAAIoB,GAAIpB,EAAe,aAAE,SAASqB,GAAM,OAAOjB,EAAG,cAAc,CAACkB,IAAID,EAAKE,OAAOhB,MAAM,CAAC,MAAQc,GAAMG,SAAS,CAAC,MAAQ,SAASf,GAAQ,OAAOT,EAAIU,QAAQe,KAAM,uBAA0BJ,EAAW,eAAU,IAAI,MACvsBK,EAAkB,G,+DCkCtB,GACEC,KAAM,eACNC,KAFF,WAGI,MAAO,CACLC,YAAa,GACbX,SAAS,EACTN,UAAU,EACVkB,KAAM,IAGVC,QAVF,WAWI9B,KAAK+B,iBAEPC,QAAS,CACP,cADJ,WACA,sKACA,4BACAC,EAAAA,EAAAA,OAAAA,OAAAA,SACAJ,KAAAA,EAAAA,OAHA,UACAK,EADA,OAMAA,IAAAA,EAAAA,KAAAA,KAAAA,QAAAA,OANA,uBAOA,cAPA,0BAWAA,EAAAA,KAAAA,KAAAA,QAAAA,SAAAA,SAAAA,GACAC,EAAAA,SAAAA,EAAAA,EAAAA,GAAAA,EAAAA,YAEA,6EACA,aAfA,8CAiBIvB,OAlBJ,WAoBUZ,KAAK4B,YAAYQ,OAAS,IAC5BpC,KAAK6B,OACL7B,KAAK+B,oBCtEmN,I,UCQ5NM,GAAY,OACd,EACAvC,EACA2B,GACA,EACA,KACA,WACA,MAIF,EAAeY,EAAiB","sources":["webpack://itcast-toutiao/./src/views/Search/SearchResult/index.vue?446a","webpack://itcast-toutiao/src/views/Search/SearchResult/index.vue","webpack://itcast-toutiao/./src/views/Search/SearchResult/index.vue?c030","webpack://itcast-toutiao/./src/views/Search/SearchResult/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-result-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"搜索结果\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}})],1),_c('div',[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"offset\":\"50\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.articleList),function(item){return _c('ArticleItem',{key:item.art_id,attrs:{\"value\":item},nativeOn:{\"click\":function($event){return _vm.$router.push((\"/article_detail?aid=\" + (item.art_id)))}}})}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 搜索结果页-头部导航 -->\n    <div class=\"search-result-container\">\n      <!-- 点击实现后退效果 -->\n      <van-nav-bar\n        title=\"搜索结果\"\n        left-arrow\n        @click-left=\"$router.go(-1)\"\n        fixed\n      />\n    </div>\n\n    <!-- 搜索结果 -->\n    <div>\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"onLoad\"\n        offset=\"50\"\n      >\n        <ArticleItem\n          v-for=\"item in articleList\"\n          :key=\"item.art_id\"\n          :value=\"item\"\n          @click.native=\"$router.push(`/article_detail?aid=${item.art_id}`)\"\n        />\n      </van-list>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { timeAgo } from \"@/utils/date/date\";\nexport default {\n  name: \"SearchResult\",\n  data() {\n    return {\n      articleList: [], // 文章数据\n      loading: false, // 底部加载状态\n      finished: false, // 数据是否全部加载完成\n      page: 1,\n    };\n  },\n  created() {\n    this.getSearchInfo();\n  },\n  methods: {\n    async getSearchInfo() {\n      const res = await this.$API.searchResultListAPI({\n        q: this.$route.params.keywords,\n        page: this.page,\n      });\n      // 是否有更多数据\n      if (res.data.data.results.length === 0) {\n        this.finished = true;\n        return;\n      }\n      // 数据预处理\n      res.data.data.results.forEach((obj) => {\n        obj.pubdate = timeAgo(obj.pubdate);\n      });\n      this.articleList = [...this.articleList, ...res.data.data.results];\n      this.loading = false;\n    },\n    onLoad() {\n      // 网页打开list组件自动检查会触发一次onLoad, 所以我们要在有数据后再让onLoad里请求数据\n      if (this.articleList.length > 0) {\n        this.page++;\n        this.getSearchInfo();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.search-result-container {\n  padding-top: 46px;\n}\n</style>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b0643ccc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b0643ccc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0643ccc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","finished","onLoad","model","value","callback","$$v","loading","expression","_l","item","key","art_id","nativeOn","push","staticRenderFns","name","data","articleList","page","created","getSearchInfo","methods","q","res","obj","length","component"],"sourceRoot":""}