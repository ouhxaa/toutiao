(self["webpackChunkitcast_toutiao"]=self["webpackChunkitcast_toutiao"]||[]).push([[967],{7967:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"search-header"},[n("van-icon",{staticClass:"goback",attrs:{name:"arrow-left",color:"white",size:"0.48rem"},on:{click:function(e){return t.$router.back()}}}),n("van-search",{directives:[{name:"splot",rawName:"v-splot"}],attrs:{placeholder:"请输入搜索关键词",background:"#007BFF",shape:"round"},on:{input:t.inputFn,search:t.enterFn},model:{value:t.kw,callback:function(e){t.kw=e},expression:"kw"}})],1),t._l(t.suggestList,(function(e,r){return n("div",{key:r,staticClass:"sugg-list"},[0!==t.kw.length?n("div",{staticClass:"sugg-item",domProps:{innerHTML:t._s(t.lightFn(e,t.kw))},on:{click:function(n){return t.clickFn(e)}}}):t._e()])})),0==t.kw.length?n("div",{staticClass:"search-history"},[n("van-cell",{attrs:{title:"搜索历史"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("van-icon",{staticClass:"search-icon",attrs:{name:"delete"},on:{click:t.clearFn}})]},proxy:!0}],null,!1,1432151839)}),n("div",{staticClass:"history-list"},t._l(t.history,(function(e,r){return n("span",{key:r,staticClass:"history-item",on:{click:function(n){return t.clickHisFn(e)}}},[t._v(t._s(e)+" ")])})),0)],1):t._e()],2)},s=[],i=n(9873),a=(n(1038),n(8783),n(1539),n(189),n(3948),n(8862),n(3040),n(4603),n(8450),n(4916),n(8386),n(9714),n(5306),function(t,e){var n=new RegExp(e,"ig");return t.replace(n,(function(t){return'<span style="color: red">'.concat(t,"</span>")}))}),o={data:function(){return{kw:"",timer:null,suggestList:[],history:JSON.parse(localStorage.getItem("HISTORY"))||["API","java","css","前端","后台接口","python"]}},methods:{inputFn:function(){var t=this;""==this.kw&&(this.suggestList=[]),clearTimeout(this.timer),this.timer=setTimeout((0,i.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.kw.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$API.suggestListAPI({q:t.kw});case 4:n=e.sent,t.suggestList=n.data.data.options;case 6:case"end":return e.stop()}}),e)}))),100)},lightFn:a,enterFn:function(){var t=this;""!=this.kw&&(this.history.push(this.kw),this.history=Array.from(new Set(this.history))),setTimeout((function(){t.$router.push({path:"/search/".concat(t.kw)})}))},clickFn:function(t){var e=this;this.history.push(t),this.history=Array.from(new Set(this.history)),setTimeout((function(){e.$router.push({path:"/search/".concat(t)})}))},clickHisFn:function(t){this.$router.push({path:"/search/".concat(t)})},clearFn:function(){this.history=[]}},watch:{history:function(){localStorage.setItem("HISTORY",JSON.stringify(this.history))}}},c=o,u=n(1001),h=(0,u.Z)(c,r,s,!1,null,"7f14b9a9",null),l=h.exports},8457:function(t,e,n){"use strict";var r=n(7854),s=n(9974),i=n(6916),a=n(7908),o=n(3411),c=n(7659),u=n(4411),h=n(6244),l=n(6135),f=n(8554),p=n(1246),k=r.Array;t.exports=function(t){var e=a(t),n=u(this),r=arguments.length,g=r>1?arguments[1]:void 0,v=void 0!==g;v&&(g=s(g,r>2?arguments[2]:void 0));var d,w,m,y,F,_,x=p(e),C=0;if(!x||this==k&&c(x))for(d=h(e),w=n?new this(d):k(d);d>C;C++)_=v?g(e[C],C):e[C],l(w,C,_);else for(y=f(e,x),F=y.next,w=n?new this:[];!(m=i(F,y)).done;C++)_=v?o(y,g,[m.value,C],!0):m.value,l(w,C,_);return w.length=C,w}},3411:function(t,e,n){var r=n(9670),s=n(9212);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){s(t,"throw",a)}}},1038:function(t,e,n){var r=n(2109),s=n(8457),i=n(7072),a=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:s})}}]);
//# sourceMappingURL=967-legacy.e1c0c811.js.map